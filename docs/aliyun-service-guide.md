# 阿里云服务配置指南

## 目录
- [域名注册](#域名注册)
- [域名解析](#域名解析)
- [ICP备案](#icp备案)
- [ECS服务器](#ecs服务器)
- [CDN配置](#cdn配置)

## 域名注册

### 1. 注册流程
1. 登录阿里云官网：https://www.aliyun.com
2. 进入域名注册页面
3. 搜索想要的域名
4. 选择域名后缀（.com/.cn/.net等）
5. 加入清单并完成支付
6. 填写域名持有者信息

### 2. 实名认证
1. 准备材料：
   - 个人身份证正反面照片
   - 手持身份证照片
2. 提交认证
3. 等待审核（1-2个工作日）

## 域名解析

### 1. 基础解析设置
1. 进入域名控制台
2. 选择"解析设置"
3. 添加记录：
   ```
   记录类型：CNAME
   主机记录：@（主域名）或 www（子域名）
   记录值：GitHub Pages 地址或 CDN 地址
   TTL：10分钟
   ```

### 2. 常用解析记录类型
- A记录：指向IPv4地址
- CNAME：指向另一个域名
- TXT：用于域名验证
- MX：邮件服务器记录

## ICP备案

### 1. 准备工作
1. 购买备案服务器（ECS）：
   - 包年包月，至少3个月
   - 需要有公网IP
   - 位于中国大陆地区

2. 准备材料：
   - 个人身份证正反面照片
   - 手持身份证照片
   - 域名证书
   - 备案服务号

### 2. 备案流程
1. 登录阿里云备案系统
2. 选择备案类型：
   - 首次备案
   - 新增网站备案
   - 接入备案等

3. 填写信息：
   - 主体信息（个人信息）
   - 网站信息
   - 域名信息
   - 服务器信息

4. 上传资料：
   - 身份证件照片
   - 手持身份证照片
   - 域名证书

5. 等待审核：
   - 阿里云初审：1-2工作日
   - 管局审核：3-20工作日

## ECS服务器

### 1. 选购建议
1. 基础配置（用于备案）：
   - 计费方式：包年包月
   - 地域：中国大陆
   - 规格：1核2G（ecs.t6-c1m1.large）
   - 带宽：1Mbps
   - 系统盘：40GB
   - 时长：1年或3个月（最少）

2. 安全配置：
   - 创建密钥对
   - 保存私钥文件（.pem）
   - 设置安全组规则

### 2. 使用说明
1. 连接服务器：
   ```bash
   # Windows
   ssh -i "密钥文件.pem" root@服务器IP

   # Linux/Mac
   chmod 400 密钥文件.pem
   ssh -i "密钥文件.pem" root@服务器IP
   ```

2. 基础配置：
   ```bash
   # 更新系统
   yum update -y  # CentOS
   apt-get update && apt-get upgrade -y  # Ubuntu

   # 安装常用工具
   yum install wget vim nginx -y  # CentOS
   apt-get install wget vim nginx -y  # Ubuntu
   ```

## CDN配置

### 1. 前提条件
- 已完成域名 ICP 备案
- 已有可访问的源站（如 GitHub Pages）

### 2. 配置步骤
1. 域名接入：
   - 添加加速域名
   - 选择业务类型：图片小文件
   - 配置源站信息：
     - 源站类型：源站域名
     - 源站地址：GitHub Pages 域名
     - 端口：80

2. 验证配置：
   - 配置 CNAME 解析
   - 等待解析生效
   - 测试访问

### 3. 优化设置
1. 缓存配置：
   - 设置缓存规则
   - 配置缓存过期时间
   - 配置缓存刷新规则

2. HTTPS配置：
   - 上传SSL证书
   - 开启HTTPS功能
   - 配置强制跳转

## 常见问题

### 1. 域名相关
- 域名实名认证失败：检查证件图片清晰度和真实性
- 域名解析不生效：检查DNS记录是否正确，等待解析生效（通常需要10分钟）

### 2. 备案相关
- 备案审核时间：通常5-20个工作日
- 备案驳回：根据驳回原因修改后重新提交
- 备案信息变更：在备案系统提交变更申请

### 3. CDN相关
- 源站配置错误：检查源站地址是否可访问
- CNAME配置：确保已添加CNAME解析记录
- 缓存刷新：及时刷新缓存以更新内容

## 维护建议

### 1. 定期检查
- 域名到期时间
- SSL证书有效期
- ECS服务器状态
- CDN流量使用情况

### 2. 安全防护
- 及时更新系统补丁
- 配置安全组规则
- 监控异常访问
- 定期备份数据

### 3. 成本优化
- 根据实际需求调整ECS配置
- 合理设置CDN缓存策略
- 监控资源使用情况 